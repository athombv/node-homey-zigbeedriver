<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>ZigBeeLightDevice - Homey ZigbeeDriver</title>

  <meta property="og:image" content="https://etc.athom.com/logo/white/256.png"/>
  <link rel="icon" href="https://etc.athom.com/logo/transparent/128.png"/>
  <link rel="icon" type="image/png" href="https://etc.athom.com/logo/transparent/128.png"/>
  <link rel="preload" as="image" href="images/logo.png">
  <link rel="preload" href="styles/homey.min.css" as="style">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link rel="preconnect" href="styles/atom-one-light.css">
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;700&family=Roboto:wght@100;300;400;500;700&display=swap"
    rel="stylesheet">
  <link type="text/css" rel="stylesheet" href="styles/homey.min.css">

  <!-- preload javascript -->
  <link rel="preload" as="script" href="scripts/ready.js">
  <link rel="preload" as="script" href="scripts/navigation.js">
  <link rel="preload" as="script" href="scripts/toc.js">
  <link rel="preload" as="script" href="scripts/table.js">
  <link rel="preload" as="script" href="scripts/hash-link.js">
  <link rel="preload" as="script" href="scripts/docs-nav.js">
  <link rel="preload" as="script" href="scripts/hash-highlight.js">
  <link rel="preload" as="script" href="scripts/darkmode.js">

  <!-- Start DarkMode -->
  <script>
    if (localStorage.getItem('darkmode') === 'true') {
      document.documentElement.classList.add('darkmode');
    }
  </script>
  <!-- End DarkMode -->
</head>

<body>


<div class="container">
  <div class="container__top-nav">
    <button data-darkmode-toggle class="darkmode-toggle">
      <span class="darkmode-toggle__icon --mask"></span>
    </button>
    <div class="docs-nav">
      <button data-docs-nav-toggle class="docs-nav__button" title="All documentation"><span
          class="docs-nav__button-icon --mask"></span></button>
      <nav data-docs-nav-menu class="docs-nav__menu component">
        <div class="docs-nav__banner trim">
          <h2>Homey Developers</h2>
        </div>
        <div class="docs-nav__columns">
          <div class="docs-nav__column trim">
            <h3>Homey Apps SDK</h3>
            <ul class="docs-nav__list">
              <li class="docs-nav__item"><a target="_blank" href="https://apps.developer.homey.app/">Documentation</a>
              </li>
              <li class="docs-nav__item"><a target="_blank"
                                            href="https://apps-sdk-v3.developer.homey.app/">Reference</a></li>
            </ul>
            <h3>Homey Web API</h3>
            <ul class="docs-nav__list">
              <li class="docs-nav__item"><a target="_blank" href="https://api.developer.homey.app/">Documentation</a>
              </li>
              <li class="docs-nav__item"><a target="_blank"
                                            href="https://athombv.github.io/node-homey-api/">Reference</a></li>
            </ul>
            <h3>Tools</h3>
            <ul class="docs-nav__list">
              <li class="docs-nav__item"><a target="_blank" href="https://tools.developer.homey.app/">Developer
                  Tools</a></li>
            </ul>
          </div>
          <div class="docs-nav__column trim">
            <h3>Node.js Modules</h3>
            <ul class="docs-nav__list">
              <li class="docs-nav__item"><a target="_blank" href="https://athombv.github.io/node-homey-zigbeedriver/">Homey
                  ZigbeeDriver</a>
              </li>
              <li class="docs-nav__item"><a target="_blank" href="https://athombv.github.io/node-homey-zwavedriver/">Homey
                  ZWaveDriver</a>
              </li>
              <li class="docs-nav__item"><a target="_blank" href="https://athombv.github.io/node-homey-rfdriver/">Homey
                  RFDriver</a>
              </li>
              <li class="docs-nav__item"><a target="_blank" href="https://athombv.github.io/node-homey-log/">Homey
                  Log</a></li>
              <li class="docs-nav__item"><a target="_blank" href="https://athombv.github.io/node-zigbee-clusters/">Zigbee
                  Clusters</a>
              </li>
              <li class="docs-nav__item"><a target="_blank" href="https://athombv.github.io/node-homey-oauth2app/">Homey
                  OAuth2</a></li>
            </ul>
          </div>
        </div>
      </nav>
    </div>
  </div>
  <nav class="navigation container__navigation component">
    <header class="navigation__header">
                <div class="navigation__logo"><a href="index.html"><img class="display-block" src="images/logo.png" width="40" height="40" alt="Homey"></a></div>
                <h2 class="navigation__title"><a href="index.html">Homey ZigbeeDriver</a></h2>
                <button data-navigation-toggle class="navigation__button" title="menu"></button>
             </header><div class="navigation__content" data-navigation-target><div class="navigation__search search">
            <input title="filter" placeholder="Filter..." data-navigation-search class="search__input" type="search">
            <button data-navigation-search-reset class="search__reset --mask" type="button" title="Reset"></button>
           </div><div data-navigation-scroll class="navigation__scroll scroll trim"><div data-navigation class="navigation__menu trim"><nav class="nav-group"><h3 class="nav-group__title">Classes</h3><ul class="nav-group__list"><li data-lvl="0" data-search-key="util" class="nav-group__item"><a href="Util.html"> Util</a></li><li data-lvl="0" data-search-key="zigbeedevice" class="nav-group__item"><a href="ZigBeeDevice.html"> ZigBeeDevice</a></li><li data-lvl="0" data-search-key="zigbeelightdevice" class="nav-group__item"><a href="ZigBeeLightDevice.html"> ZigBeeLightDevice</a></li></ul></nav><h3 class="nav-group__title">Global</h3><ul class="nav-group__list"><li class="nav-group__item"><a href="global.html">Overview</a></li></ul></div></div></div>
  </nav>

  <main id="main" class="main container__main">
    
  
  
  <div class="flex flex-direction-column flex-fill max-100">
    <div class="flex">
      <div class="main__center">
        <div class="main__content align-baseline">
          <h1 id="introduction" class="text-preset-heading-1">
            ZigBeeLightDevice
          </h1>
        </div>
        <div class="main__index"></div>
      </div>
    </div>
    <div class="flex">
      <div class="main__center">
        <div class="main__content align-baseline">
          

<section>
  <header>
    
      <h2 class="display-none">
        
        <span class="attribs"><span class="function__type-signature"></span></span>
        
        ZigBeeLightDevice
        
        <span class="function__parameters">()</span><span class="function__type-signature"></span>
        
      </h2>
      
      <div class="class-description text-preset-intro trim"><p>The ZigBeeLightDevice class handles all light related capabilities [<code>onoff</code>, <code>dim</code>,
<code>light_mode</code>, <code>light_hue</code>, <code>light_saturation</code> and <code>light_temperature</code>] for a Zigbee device
that uses the CLUSTER.LEVEL_CONTROL with the command <code>moveToLevelWithOnOff</code> for
<code>onoff</code> and <code>dim</code>, and the CLUSTER.COLOR_CONTROL with the commands
<code>moveToHueAndSaturation</code>, <code>moveToHue</code>, <code>moveToColor</code> and <code>moveToColorTemperature</code> for
<code>light_mode</code>, <code>light_hue</code>, <code>light_saturation</code> and <code>light_temperature</code>.</p></div>
      
    
  </header>

  <article>
    <div class="container-overview">
      

      
      

<h2 id="section-constructor">Constructor</h2>


<section id="ZigBeeLightDevice" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#ZigBeeLightDevice"></a>ZigBeeLightDevice</h3>
  <span class="method__function function">
    
    <span class="function__type-signature"></span>new ZigBeeLightDevice<span class="function__parameters">()</span><span class="function__type-signature"></span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    

    

    

    

    

    




    

    

    

    

    

    

    

    

    
    <section class="method__section trim">
      <h4>Example</h4>
      
    <pre class="highlight"><code>const { ZigBeeLightDevice } = require('homey-zigbeedriver');

class ZigBeeBulb extends ZigBeeLightDevice {
  async onNodeInit({zclNode, node}) {
    await super.onNodeInit({zclNode, node});
    // Do custom stuff here
  }
}</code></pre>


    </section>
    
  </div>
  

</section>

      
    </div>

    
    <section id="section-extends">
      <h2 class="subsection-title">Extends</h2>

      


    <ul>
        <li><a href="ZigBeeDevice.html">ZigBeeDevice</a></li>
    </ul>


    </section>
    

    

    

    

    

    

    
    <section id="section-members">
      <h2 class="subsection-title">Properties</h2>

      
      
<section id="energyMap" class="method component trim">
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#energyMap"></a>energyMap</h3>
  <span class="method__function function">
    <span class="function__type-signature">(abstract) </span>energyMap<span class="function__type-signature"></span>
  </span>

  <div class="method__content trim">
    

    
    <div class="description trim">
      <p>This method can be overridden to use different energy objects per Zigbee device <code>productId</code>.</p>
    </div>
    

    

    




    

    
    <h4>Example</h4>
    
    <pre class="highlight"><code>class ZigBeeBulb extends ZigBeeDevice {
   get energyMap() {
     return {
       'TRADFRI bulb E14 W op/ch 400lm': {
         approximation: {
           usageOff: 0,
           usageOn: 10,
         },
       },
       'TRADFRI bulb E27 RGB 1000lm': {
         approximation: {
           usageOff: 0,
           usageOn: 18,
         },
       },
     };
   }
 }</code></pre>


    
  </div>
</section>

      
    </section>
    

    
    <section id="section-methods">
      <h2 class="subsection-title">Methods</h2>

      
      


<section id="changeColor" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#changeColor"></a>changeColor</h3>
  <span class="method__function function">
    
    <span class="function__type-signature">(async) </span>changeColor<span class="function__parameters">(<span class="function__parameter">hue</span>, <span class="function__parameter">saturation</span>, <span class="function__parameter">value</span>, <span class="function__parameter"><span class="function__parameter">opts</span></span><span class="function__signature-attributes">opt</span>)</span><span class="function__type-signature">:  Promise.&lt;any></span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>Sends a command to the device which changes it's color. If the device supports
<code>hueAndSaturation</code> the <code>moveToHueAndSaturation</code> command will be used. If it doesn't it will
fallback to <code>moveToColor</code> which should always be supported.</p>
    </div>
    

    

    

    

    
    <section class="method__section trim">
      <h4>Parameters</h4>
      

<figure class="table-container trim">
  <table data-table class="params">
    <thead>
    <tr>
      
      <th>Name</th>
      

      <th>Type</th>

      <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    
    

    <tr data-table-lvl="0" data-table-row-id="0-0"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>hue</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">number</span>


        

        
        

        

        
        

        

      </td>


      <td class="description last trim"><p>Range 0 - 1</p>
      </td>
    </tr>

    

    

    <tr data-table-lvl="0" data-table-row-id="0-1"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>saturation</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">number</span>


        

        
        

        

        
        

        

      </td>


      <td class="description last trim"><p>Range 0 - 1</p>
      </td>
    </tr>

    

    

    <tr data-table-lvl="0" data-table-row-id="0-2"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>value</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">number</span>


        

        
        

        

        
        

        

      </td>


      <td class="description last trim"><p>Range 0 - 1</p>
      </td>
    </tr>

    

    

    <tr data-table-lvl="0" data-table-row-id="0-3"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>opts</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">object</span>


        

        
        
        <span class="color-text-light">&lt;optional></span><br>
        

        

        
        

        

      </td>


      <td class="description last trim">
      </td>
    </tr>

    

    
    
    </tbody>
  </table>
</figure>


    </section>
    

    


<h4 class="subsection-title">Properties</h4>



<figure class="table-container trim">
  <table data-table class="properties">
    <thead>
    <tr>
      
      <th>Name</th>
      

      <th>Type</th>

      <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    
    

    <tr data-table-lvl="0" data-table-row-id="0-0"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>opts.duration</code>
        
      </td>
      

      <td class="type">
        
        
<span class="param-type">number</span>


        

        
        
        <span class="color-text-light">&lt;optional></span>
        

        
        

        
      </td>


      <td class="description trim last"></td>
    </tr>
    
    
    
    </tbody>
  </table>
</figure>







    

    

    

    

    

    

    
    <section class="method__section trim">
      <h4>Returns</h4>
      
      

<div class="text-preset-small">
  
<span class="param-type">Promise.&lt;any></span>


</div>

    </section>
    

    

    
  </div>
  

</section>

      
      


<section id="changeColorTemperature" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#changeColorTemperature"></a>changeColorTemperature</h3>
  <span class="method__function function">
    
    <span class="function__type-signature">(async) </span>changeColorTemperature<span class="function__parameters">(<span class="function__parameter">temperature</span>, <span class="function__parameter"><span class="function__parameter">opts</span></span><span class="function__signature-attributes">opt</span>)</span><span class="function__type-signature">:  Promise.&lt;*></span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>Sends a command to the device which changes it's color temperature. If the device supports
<code>colorTemperature</code> the <code>moveToColorTemperature</code> command will be used. If it doesn't the
device is not capable to change it's color temperature. In the past a color temperature
would be faked with HSV values i.c.w. <code>moveToColor</code> command, with varying results. It is
recommended to remove/no longer add the <code>light_temperature</code> capability for devices that do not
support <code>colorTemperature</code>. For legacy reasons this still works, but yields sub par
results, colors are often skewed.</p>
    </div>
    

    

    

    

    
    <section class="method__section trim">
      <h4>Parameters</h4>
      

<figure class="table-container trim">
  <table data-table class="params">
    <thead>
    <tr>
      
      <th>Name</th>
      

      <th>Type</th>

      <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    
    

    <tr data-table-lvl="0" data-table-row-id="0-0"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>temperature</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">number</span>


        

        
        

        

        
        

        

      </td>


      <td class="description last trim"><p>Range 0 - 1</p>
      </td>
    </tr>

    

    

    <tr data-table-lvl="0" data-table-row-id="0-1"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>opts</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">object</span>


        

        
        
        <span class="color-text-light">&lt;optional></span><br>
        

        

        
        

        

      </td>


      <td class="description last trim">
      </td>
    </tr>

    

    
    
    </tbody>
  </table>
</figure>


    </section>
    

    


<h4 class="subsection-title">Properties</h4>



<figure class="table-container trim">
  <table data-table class="properties">
    <thead>
    <tr>
      
      <th>Name</th>
      

      <th>Type</th>

      <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    
    

    <tr data-table-lvl="0" data-table-row-id="0-0"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>opts.duration</code>
        
      </td>
      

      <td class="type">
        
        
<span class="param-type">number</span>


        

        
        
        <span class="color-text-light">&lt;optional></span>
        

        
        

        
      </td>


      <td class="description trim last"></td>
    </tr>
    
    
    
    </tbody>
  </table>
</figure>







    

    

    

    

    

    

    
    <section class="method__section trim">
      <h4>Returns</h4>
      
      

<div class="text-preset-small">
  
<span class="param-type">Promise.&lt;*></span>


</div>

    </section>
    

    

    
  </div>
  

</section>

      
      


<section id="changeDimLevel" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#changeDimLevel"></a>changeDimLevel</h3>
  <span class="method__function function">
    
    <span class="function__type-signature">(async) </span>changeDimLevel<span class="function__parameters">(<span class="function__parameter">dim</span>, <span class="function__parameter"><span class="function__parameter">opts</span></span><span class="function__signature-attributes">opt</span>)</span><span class="function__type-signature">:  Promise.&lt;any></span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>Sends a <code>moveToLevelWithOnOff</code> command to the device in order to change the dim value.
After successfully changing the dim value, the <code>onoff</code> capability value will be updated
accordingly.</p>
    </div>
    

    

    

    

    
    <section class="method__section trim">
      <h4>Parameters</h4>
      

<figure class="table-container trim">
  <table data-table class="params">
    <thead>
    <tr>
      
      <th>Name</th>
      

      <th>Type</th>

      <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    
    

    <tr data-table-lvl="0" data-table-row-id="0-0"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>dim</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">number</span>


        

        
        

        

        
        

        

      </td>


      <td class="description last trim"><p>Range 0 - 1</p>
      </td>
    </tr>

    

    

    <tr data-table-lvl="0" data-table-row-id="0-1"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>opts</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">object</span>


        

        
        
        <span class="color-text-light">&lt;optional></span><br>
        

        

        
        

        

      </td>


      <td class="description last trim">
      </td>
    </tr>

    

    
    
    </tbody>
  </table>
</figure>


    </section>
    

    


<h4 class="subsection-title">Properties</h4>



<figure class="table-container trim">
  <table data-table class="properties">
    <thead>
    <tr>
      
      <th>Name</th>
      

      <th>Type</th>

      <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    
    

    <tr data-table-lvl="0" data-table-row-id="0-0"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>opts.duration</code>
        
      </td>
      

      <td class="type">
        
        
<span class="param-type">number</span>


        

        
        
        <span class="color-text-light">&lt;optional></span>
        

        
        

        
      </td>


      <td class="description trim last"></td>
    </tr>
    
    
    
    </tbody>
  </table>
</figure>







    

    

    

    

    

    

    
    <section class="method__section trim">
      <h4>Returns</h4>
      
      

<div class="text-preset-small">
  
<span class="param-type">Promise.&lt;any></span>


</div>

    </section>
    

    

    
  </div>
  

</section>

      
      


<section id="changeOnOff" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#changeOnOff"></a>changeOnOff</h3>
  <span class="method__function function">
    
    <span class="function__type-signature">(async) </span>changeOnOff<span class="function__parameters">(<span class="function__parameter">onoff</span>)</span><span class="function__type-signature">:  Promise.&lt;any></span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>Sends a <code>setOn</code> or <code>setOff</code> command to the device in order to turn it on or off. After
successfully changing the on/off value, the <code>dim</code> capability value will be updated
accordingly. Additionally, if the device is turned on, the current dim level will be
requested and updated in the form of the <code>dim</code> capability value.</p>
    </div>
    

    

    

    

    
    <section class="method__section trim">
      <h4>Parameters</h4>
      

<figure class="table-container trim">
  <table data-table class="params">
    <thead>
    <tr>
      
      <th>Name</th>
      

      <th>Type</th>

      <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    
    

    <tr data-table-lvl="0" data-table-row-id="0-0"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>onoff</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">boolean</span>


        

        

        

      </td>


      <td class="description last trim">
      </td>
    </tr>

    

    
    
    </tbody>
  </table>
</figure>


    </section>
    

    




    

    

    

    

    

    

    
    <section class="method__section trim">
      <h4>Returns</h4>
      
      

<div class="text-preset-small">
  
<span class="param-type">Promise.&lt;any></span>


</div>

    </section>
    

    

    
  </div>
  

</section>

      
      


<section id="configureAttributeReporting" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#configureAttributeReporting"></a>configureAttributeReporting</h3>
  <span class="method__function function">
    
    <span class="function__type-signature">(async) </span>configureAttributeReporting<span class="function__parameters">(<span class="function__parameter">attributeReportingConfigurations</span>)</span><span class="function__type-signature">:  Promise</span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>Configure the node to send attribute reports. After successful configuration the device's
store value CONFIGURED_ATTRIBUTE_REPORTING_STORE_KEY will be updated to reflect the
configured attribute reporting configuration with an additional <code>lastUpdated</code> value.</p>
<p>Note: not all devices support this, and not all attributes are reportable, check the Zigbee
Cluster Library specification for more information. Additionally, many devices require a
binding to be configured before attribute reporting can be configured, include the cluster id
in the <code>bindings</code> array in the <code>zigbee.endpoints</code> object in the driver's manifest.</p>
    </div>
    

    

    

    

    
    <section class="method__section trim">
      <h4>Parameters</h4>
      

<figure class="table-container trim">
  <table data-table class="params">
    <thead>
    <tr>
      
      <th>Name</th>
      

      <th>Type</th>

      <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    
    

    <tr data-table-lvl="0" data-table-row-id="0-0"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>attributeReportingConfigurations</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">Array.&lt;<a href="global.html#AttributeReportingConfiguration">AttributeReportingConfiguration</a>></span>


        

        

        

      </td>


      <td class="description last trim">
      </td>
    </tr>

    

    
    
    </tbody>
  </table>
</figure>


    </section>
    

    




    

    

    

    

    

    

    
    <section class="method__section trim">
      <h4>Returns</h4>
      
      

<div class="text-preset-small">
  
<span class="param-type">Promise</span>


</div>

    </section>
    

    

    
    <section class="method__section trim">
      <h4>Example</h4>
      
    <pre class="highlight"><code>const { CLUSTER } = require('zigbee-clusters');

await this.configureAttributeReporting([{
  cluster: CLUSTER.ILLUMINANCE_MEASUREMENT,
  attributeName: 'measuredValue',
  minInterval: 0,
  maxInterval: 300,
  minChange: 10,
}]);

// When setting multiple attribute reporting configurations combine them into one call,
// multiple attribute configurations for a single cluster on a single endpoint will need only
// one remote call to the node. This especially important for sleepy (battery) devices.
await this.configureAttributeReporting([
  {
    endpointId: 2,
    cluster: CLUSTER.COLOR_CONTROL,
    attributeName: 'currentHue',
    minInterval: 0,
    maxInterval: 300,
    minChange: 10,
  },
  {
    endpointId: 2,
    cluster: CLUSTER.COLOR_CONTROL,
    attributeName: 'currentSaturation',
    minInterval: 0,
    maxInterval: 300,
    minChange: 10,
  },
]);

// In order to handle the attribute reports, bind a listener
zclNode.endpoints[1].clusters[CLUSTER.COLOR_CONTROL.NAME]
  .on('attr.currentSaturation', (currentSaturation) => {
     // handle reported attribute value
  });</code></pre>


    </section>
    
  </div>
  

</section>

      
      


<section id="debug" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#debug"></a>debug</h3>
  <span class="method__function function">
    
    <span class="function__type-signature"></span>debug<span class="function__parameters">(&hellip;<span class="function__parameter">args</span>)</span><span class="function__type-signature"></span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>Debug logging method. Will only log to stdout if enabled via enableDebug.</p>
    </div>
    

    

    

    

    
    <section class="method__section trim">
      <h4>Parameters</h4>
      

<figure class="table-container trim">
  <table data-table class="params">
    <thead>
    <tr>
      
      <th>Name</th>
      

      <th>Type</th>

      <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    
    

    <tr data-table-lvl="0" data-table-row-id="0-0"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>args</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">*</span>


        

        
        

        

        
        <span class="color-text-light">&lt;repeatable></span><br>
        
        

        

      </td>


      <td class="description last trim">
      </td>
    </tr>

    

    
    
    </tbody>
  </table>
</figure>


    </section>
    

    




    

    

    

    

    

    

    

    

    
  </div>
  

</section>

      
      


<section id="disableDebug" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#disableDebug"></a>disableDebug</h3>
  <span class="method__function function">
    
    <span class="function__type-signature"></span>disableDebug<span class="function__parameters">()</span><span class="function__type-signature"></span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>Disable ZigBeeDevice.debug statements.</p>
    </div>
    

    

    

    

    

    




    

    

    

    

    

    

    

    

    
  </div>
  

</section>

      
      


<section id="enableDebug" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#enableDebug"></a>enableDebug</h3>
  <span class="method__function function">
    
    <span class="function__type-signature"></span>enableDebug<span class="function__parameters">()</span><span class="function__type-signature"></span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>Enable ZigBeeDevice.debug statements.</p>
    </div>
    

    

    

    

    

    




    

    

    

    

    

    

    

    

    
  </div>
  

</section>

      
      


<section id="getClusterCapabilityValue" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#getClusterCapabilityValue"></a>getClusterCapabilityValue</h3>
  <span class="method__function function">
    
    <span class="function__type-signature">(async) </span>getClusterCapabilityValue<span class="function__parameters">(<span class="function__parameter">capabilityId</span>, <span class="function__parameter">cluster</span>)</span><span class="function__type-signature">:  Promise.&lt;*></span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>This method reads the <code>get</code> part of the <a href="global.html#ClusterCapabilityConfiguration">ClusterCapabilityConfiguration</a> and based on
that performs a <code>readAttributes</code> call on the cluster. It will trigger
parseAttributeReport once the new value is received which will parse the result and
update the capability value.</p>
    </div>
    

    

    

    

    
    <section class="method__section trim">
      <h4>Parameters</h4>
      

<figure class="table-container trim">
  <table data-table class="params">
    <thead>
    <tr>
      
      <th>Name</th>
      

      <th>Type</th>

      <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    
    

    <tr data-table-lvl="0" data-table-row-id="0-0"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>capabilityId</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type"><a href="global.html#CapabilityId">CapabilityId</a></span>


        

        

        

      </td>


      <td class="description last trim">
      </td>
    </tr>

    

    

    <tr data-table-lvl="0" data-table-row-id="0-1"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>cluster</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type"><a href="global.html#ClusterSpecification">ClusterSpecification</a></span>


        

        

        

      </td>


      <td class="description last trim">
      </td>
    </tr>

    

    
    
    </tbody>
  </table>
</figure>


    </section>
    

    




    

    

    

    

    

    

    
    <section class="method__section trim">
      <h4>Returns</h4>
      
      

<div class="text-preset-small">
  
<span class="param-type">Promise.&lt;*></span>


</div>

    </section>
    

    

    
    <section class="method__section trim">
      <h4>Example</h4>
      
    <pre class="highlight"><code>const { CLUSTER } = require('zigbee-clusters');

const measureLuminance = await this.getClusterCapabilityValue(
  'measure_luminance',
  CLUSTER.ILLUMINANCE_MEASUREMENT,
);</code></pre>


    </section>
    
  </div>
  

</section>

      
      


<section id="getClusterEndpoint" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#getClusterEndpoint"></a>getClusterEndpoint</h3>
  <span class="method__function function">
    
    <span class="function__type-signature"></span>getClusterEndpoint<span class="function__parameters">(<span class="function__parameter">cluster</span>)</span><span class="function__type-signature">:  <a href="global.html#EndpointId">EndpointId</a>|null</span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>Method that searches for the first occurrence of a given cluster in a device's endpoints and
returns the endpoint id. Note: this method only finds clusters that act as <code>inputCluster</code>
on the node, <code>outputClusters</code> are not discoverable with this method.</p>
    </div>
    

    

    

    

    
    <section class="method__section trim">
      <h4>Parameters</h4>
      

<figure class="table-container trim">
  <table data-table class="params">
    <thead>
    <tr>
      
      <th>Name</th>
      

      <th>Type</th>

      <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    
    

    <tr data-table-lvl="0" data-table-row-id="0-0"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>cluster</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type"><a href="global.html#ClusterSpecification">ClusterSpecification</a></span>


        

        

        

      </td>


      <td class="description last trim">
      </td>
    </tr>

    

    
    
    </tbody>
  </table>
</figure>


    </section>
    

    




    

    

    

    

    

    

    
    <section class="method__section trim">
      <h4>Returns</h4>
      
      
  <p>endpointId - Returns <code>null</code> if cluster could not be found on any
endpoint.</p>


<div class="text-preset-small">
  
<span class="param-type"><a href="global.html#EndpointId">EndpointId</a></span>
|

<span class="param-type">null</span>


</div>

    </section>
    

    

    
  </div>
  

</section>

      
      


<section id="getEnergy" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#getEnergy"></a>getEnergy</h3>
  <span class="method__function function">
    
    <span class="function__type-signature"></span>getEnergy<span class="function__parameters">()</span><span class="function__type-signature">:  object</span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>Overrides Homey.Device.getEnergy to enable zigbee devices to expose a energyMap
object with different energy objects <code>productId</code> (as specified in the driver manifest). If
the <code>energyMap</code> object is available and has an entry for the <code>productId</code> of this device
this entry will be added to the energy object in the drivers' manifest.</p>
    </div>
    

    

    

    

    

    




    

    

    

    

    

    

    
    <section class="method__section trim">
      <h4>Returns</h4>
      
      
  <ul>
<li>Energy object</li>
</ul>


<div class="text-preset-small">
  
<span class="param-type">object</span>


</div>

    </section>
    

    

    
  </div>
  

</section>

      
      


<section id="getSwBuildId" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#getSwBuildId"></a>getSwBuildId</h3>
  <span class="method__function function">
    
    <span class="function__type-signature">(async) </span>getSwBuildId<span class="function__parameters">(<span class="function__parameter"><span class="function__parameter">params</span></span><span class="function__signature-attributes">opt</span>)</span><span class="function__type-signature">:  Promise.&lt;string></span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>Retrieves the <code>swBuildId</code> from the Basic cluster of the specified endpoint. If the
<code>swBuildId</code> is already cached in the device store, it will return the cached value.</p>
    </div>
    

    

    

    

    
    <section class="method__section trim">
      <h4>Parameters</h4>
      

<figure class="table-container trim">
  <table data-table class="params">
    <thead>
    <tr>
      
      <th>Name</th>
      

      <th>Type</th>

      <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    
    

    <tr data-table-lvl="0" data-table-row-id="0-0"
        data-table-row-parent="0" data-table-collapsed=true>
      
      <td class="name position-relative">
        
        <div class="lvl lvl--group">
          
          <div class="lvl__indent"></div>
          
        </div>
        <code>params</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">object</span>


        

        
        
        <span class="color-text-light">&lt;optional></span><br>
        

        

        
        

        
        
        default:<code>{}</code>
        
        

      </td>


      <td class="description last trim"><p>Method parameters.</p>
      </td>
    </tr>

    
    

    

    <tr data-table-lvl="1" data-table-row-id="0-0-0"
        data-table-row-parent="0-0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
          <div class="lvl__indent"></div>
          
        </div>
        <code>endpointId</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">number</span>


        

        
        
        <span class="color-text-light">&lt;optional></span><br>
        

        

        
        

        
        
        default:<code>1</code>
        
        

      </td>


      <td class="description last trim"><p>The endpoint id to fetch the swBuildId from (default: 1).</p>
      </td>
    </tr>

    

    

    <tr data-table-lvl="1" data-table-row-id="0-0-1"
        data-table-row-parent="0-0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
          <div class="lvl__indent"></div>
          
        </div>
        <code>skipCache</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">boolean</span>


        

        
        
        <span class="color-text-light">&lt;optional></span><br>
        

        

        
        

        
        
        default:<code>false</code>
        
        

      </td>


      <td class="description last trim"><p>If true, it will skip the cache and always fetch the
swBuildId from the device (default: false).</p>
      </td>
    </tr>

    

    
    

    <tr data-table-lvl="0" data-table-row-parent="0-0" data-table-row-is-shown="false">
      <td class="name">
        <div class="lvl">
          
        </div>
        <span class="font-weight-bold">}</span>
      </td>
    </tr>
    

    
    
    </tbody>
  </table>
</figure>


    </section>
    

    




    

    

    

    

    

    

    
    <section class="method__section trim">
      <h4>Returns</h4>
      
      
  <p>The swBuildId of the device.</p>


<div class="text-preset-small">
  
<span class="param-type">Promise.&lt;string></span>


</div>

    </section>
    

    

    
  </div>
  

</section>

      
      


<section id="isFirstInit" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#isFirstInit"></a>isFirstInit</h3>
  <span class="method__function function">
    
    <span class="function__type-signature"></span>isFirstInit<span class="function__parameters">()</span><span class="function__type-signature">:  boolean</span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>Returns true if node has just been initialized for the first time (after awaiting
onNodeInit this value will be updated.</p>
    </div>
    

    

    

    

    

    




    

    

    

    

    

    

    
    <section class="method__section trim">
      <h4>Returns</h4>
      
      

<div class="text-preset-small">
  
<span class="param-type">boolean</span>


</div>

    </section>
    

    

    
  </div>
  

</section>

      
      


<section id="isSubDevice" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#isSubDevice"></a>isSubDevice</h3>
  <span class="method__function function">
    
    <span class="function__type-signature"></span>isSubDevice<span class="function__parameters">()</span><span class="function__type-signature">:  boolean</span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>Returns true if this device is a Zigbee sub device.</p>
    </div>
    

    

    

    

    

    




    

    

    

    

    

    

    
    <section class="method__section trim">
      <h4>Returns</h4>
      
      

<div class="text-preset-small">
  
<span class="param-type">boolean</span>


</div>

    </section>
    

    

    
  </div>
  

</section>

      
      


<section id="onDeleted" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#onDeleted"></a>onDeleted</h3>
  <span class="method__function function">
    
    <span class="function__type-signature">(abstract) </span>onDeleted<span class="function__parameters">()</span><span class="function__type-signature"></span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>Remove all listeners and intervals from node. This method can be overridden if additional
clean up actions are required, but be sure to call <code>super.onDeleted()</code> at some point.</p>
    </div>
    

    

    

    

    

    




    

    

    

    

    

    

    

    

    
  </div>
  

</section>

      
      


<section id="onEndDeviceAnnounce" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#onEndDeviceAnnounce"></a>onEndDeviceAnnounce</h3>
  <span class="method__function function">
    
    <span class="function__type-signature">(async) </span>onEndDeviceAnnounce<span class="function__parameters">()</span><span class="function__type-signature">:  Promise.&lt;void></span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>When node sends an end device announce retrieve its color values and update the respective
capabilities.</p>
    </div>
    

    

    

    

    

    




    

    

    

    

    

    

    
    <section class="method__section trim">
      <h4>Returns</h4>
      
      

<div class="text-preset-small">
  
<span class="param-type">Promise.&lt;void></span>


</div>

    </section>
    

    

    
  </div>
  

</section>

      
      


<section id="onMeshInit" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#onMeshInit"></a>onMeshInit</h3>
  <span class="method__function function">
    
    <span class="function__type-signature">(abstract) </span>onMeshInit<span class="function__parameters">()</span><span class="function__type-signature"></span>
    
  </span>
  

  
  

  

</section>

      
      


<section id="onNodeInit" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#onNodeInit"></a>onNodeInit</h3>
  <span class="method__function function">
    
    <span class="function__type-signature">(async) </span>onNodeInit<span class="function__parameters">(<span class="function__parameter">zclNode</span>, <span class="function__parameter">supportsHueAndSaturation</span>, <span class="function__parameter">supportsColorTemperature</span>)</span><span class="function__type-signature">:  Promise.&lt;void></span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>This method will be called when the <a href="ZigBeeDevice.html">ZigBeeDevice</a> instance is ready and did
initialize a ZCLNode.</p>
    </div>
    

    

    

    

    
    <section class="method__section trim">
      <h4>Parameters</h4>
      

<figure class="table-container trim">
  <table data-table class="params">
    <thead>
    <tr>
      
      <th>Name</th>
      

      <th>Type</th>

      <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    
    

    <tr data-table-lvl="0" data-table-row-id="0-0"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>zclNode</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">ZCLNode</span>


        

        

        

      </td>


      <td class="description last trim">
      </td>
    </tr>

    

    

    <tr data-table-lvl="0" data-table-row-id="0-1"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>supportsHueAndSaturation</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">boolean</span>


        

        

        

      </td>


      <td class="description last trim"><p>If the device does not have attribute
<code>colorCapabilities</code> set to <code>hueAndSaturation</code> but controlling via hue and saturation is
still required, set this flag to true.</p>
      </td>
    </tr>

    

    

    <tr data-table-lvl="0" data-table-row-id="0-2"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>supportsColorTemperature</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">boolean</span>


        

        

        

      </td>


      <td class="description last trim"><p>If the device does not have attribute
<code>colorCapabilities</code> set to <code>colorTemperature</code> but controlling color temperature via
<code>moveToColorTemperature</code> is still required, set this flag to true.</p>
      </td>
    </tr>

    

    
    
    </tbody>
  </table>
</figure>


    </section>
    

    




    

    

    

    

    

    

    
    <section class="method__section trim">
      <h4>Returns</h4>
      
      

<div class="text-preset-small">
  
<span class="param-type">Promise.&lt;void></span>


</div>

    </section>
    

    

    
  </div>
  

</section>

      
      


<section id="parseAttributeReport" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#parseAttributeReport"></a>parseAttributeReport</h3>
  <span class="method__function function">
    
    <span class="function__type-signature">(async) </span>parseAttributeReport<span class="function__parameters">(<span class="function__parameter">capabilityId</span>, <span class="function__parameter">cluster</span>, <span class="function__parameter">payload</span>)</span><span class="function__type-signature">:  Promise.&lt;(null|*)></span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>Method that handles an incoming attribute report. It parses the result using the
<a href="global.html#ReportParserFunction">ReportParserFunction</a>, if this is not available it returns <code>null</code>. If the parsing
succeeded the capability value will be updated and the parsed payload will be returned.</p>
    </div>
    

    

    

    

    
    <section class="method__section trim">
      <h4>Parameters</h4>
      

<figure class="table-container trim">
  <table data-table class="params">
    <thead>
    <tr>
      
      <th>Name</th>
      

      <th>Type</th>

      <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    
    

    <tr data-table-lvl="0" data-table-row-id="0-0"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>capabilityId</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type"><a href="global.html#CapabilityId">CapabilityId</a></span>


        

        

        

      </td>


      <td class="description last trim">
      </td>
    </tr>

    

    

    <tr data-table-lvl="0" data-table-row-id="0-1"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>cluster</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type"><a href="global.html#ClusterSpecification">ClusterSpecification</a></span>


        

        

        

      </td>


      <td class="description last trim">
      </td>
    </tr>

    

    

    <tr data-table-lvl="0" data-table-row-id="0-2"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>payload</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">*</span>


        

        

        

      </td>


      <td class="description last trim">
      </td>
    </tr>

    

    
    
    </tbody>
  </table>
</figure>


    </section>
    

    




    

    

    

    

    

    

    
    <section class="method__section trim">
      <h4>Returns</h4>
      
      
  <ul>
<li>Returns <code>null</code> if parsing failed or yielded no result.</li>
</ul>


<div class="text-preset-small">
  
<span class="param-type">Promise.&lt;(null|*)></span>


</div>

    </section>
    

    

    
    <section class="method__section trim">
      <h4>Example</h4>
      
    <pre class="highlight"><code>const { CLUSTER } = require('zigbee-clusters');

zclNode.endpoints[1].clusters.onOff.on('attr.onOff', value => {
  return this.parseAttributeReport('onoff', CLUSTER.ON_OFF, { onOff: value });
});</code></pre>


    </section>
    
  </div>
  

</section>

      
      


<section id="printNode" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#printNode"></a>printNode</h3>
  <span class="method__function function">
    
    <span class="function__type-signature"></span>printNode<span class="function__parameters">()</span><span class="function__type-signature"></span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>Print the current node information, this contains information on the node's endpoints and
clusters (and if it is a sleepy device or not).</p>
    </div>
    

    

    

    

    

    




    

    

    

    

    

    

    

    

    
  </div>
  

</section>

      
      


<section id="readColorControlAttributes" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#readColorControlAttributes"></a>readColorControlAttributes</h3>
  <span class="method__function function">
    
    <span class="function__type-signature">(async) </span>readColorControlAttributes<span class="function__parameters">()</span><span class="function__type-signature">:  Promise.&lt;T></span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>Read colorControl cluster attributes needed in order to operate the device properly.</p>
    </div>
    

    

    

    

    

    




    

    

    

    

    

    

    
    <section class="method__section trim">
      <h4>Returns</h4>
      
      

<div class="text-preset-small">
  
<span class="param-type">Promise.&lt;T></span>


</div>

    </section>
    

    

    
  </div>
  

</section>

      
      


<section id="registerAttrReportListener" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#registerAttrReportListener"></a>registerAttrReportListener</h3>
  <span class="method__function function">
    
    <span class="function__type-signature">(async) </span>registerAttrReportListener<span class="function__parameters">()</span><span class="function__type-signature"></span>
    
  </span>
  

  
  

  

</section>

      
      


<section id="registerCapability" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#registerCapability"></a>registerCapability</h3>
  <span class="method__function function">
    
    <span class="function__type-signature"></span>registerCapability<span class="function__parameters">(<span class="function__parameter">capabilityId</span>, <span class="function__parameter">cluster</span>, <span class="function__parameter"><span class="function__parameter">clusterCapabilityConfiguration</span></span><span class="function__signature-attributes">opt</span>)</span><span class="function__type-signature"></span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>Map a Zigbee cluster to a Homey.Device capability. Using the provided cluster configuration
a mapping will be made between the device's capability and the Zigbee cluster.</p>
    </div>
    

    

    

    

    
    <section class="method__section trim">
      <h4>Parameters</h4>
      

<figure class="table-container trim">
  <table data-table class="params">
    <thead>
    <tr>
      
      <th>Name</th>
      

      <th>Type</th>

      <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    
    

    <tr data-table-lvl="0" data-table-row-id="0-0"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>capabilityId</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type"><a href="global.html#CapabilityId">CapabilityId</a></span>


        

        
        

        

        
        

        

      </td>


      <td class="description last trim"><p>Homey.Device capability id (e.g. <code>onoff</code>)</p>
      </td>
    </tr>

    

    

    <tr data-table-lvl="0" data-table-row-id="0-1"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>cluster</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type"><a href="global.html#ClusterSpecification">ClusterSpecification</a></span>


        

        
        

        

        
        

        

      </td>


      <td class="description last trim"><p>Cluster specification (id and name)</p>
      </td>
    </tr>

    

    

    <tr data-table-lvl="0" data-table-row-id="0-2"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>clusterCapabilityConfiguration</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type"><a href="global.html#ClusterCapabilityConfiguration">ClusterCapabilityConfiguration</a></span>


        

        
        
        <span class="color-text-light">&lt;optional></span><br>
        

        

        
        

        

      </td>


      <td class="description last trim"><p>User provided
ClusterCapabilityMapConfiguration, these will override and extend the system cluster
capability map configuration if available (e.g. ./system/capabilities/onoff).</p>
      </td>
    </tr>

    

    
    
    </tbody>
  </table>
</figure>


    </section>
    

    




    

    

    

    

    

    

    

    

    
    <section class="method__section trim">
      <h4>Example</h4>
      
    <pre class="highlight"><code>const { CLUSTER } = require('zigbee-clusters');

this.registerCapability('onoff', CLUSTER.ON_OFF, {
 // This is often just a string, but can be a function as well
 set: value => (value ? 'setOn' : 'setOff'),
 setParser(setValue) {
   // In case a "set command" takes an argument you can return it from the setParser
 },
 get: 'onOff',
 report: 'onOff',
 reportParser(report) {
   if (report &amp;&amp; report.onOff === true) return true;
   return false;
 },
 reportOpts: {
   configureAttributeReporting: {
     minInterval: 3600, // Minimally once every hour
     maxInterval: 60000, // Maximally once every ~16 hours
     minChange: 1,
   },
 },
 endpoint: 1, // Default is 1
 getOpts: {
   getOnStart: true,
   getOnOnline: true,
   pollInterval: 30000, // in ms
 },
});</code></pre>


    </section>
    
  </div>
  

</section>

      
      


<section id="registerColorCapabilities" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#registerColorCapabilities"></a>registerColorCapabilities</h3>
  <span class="method__function function">
    
    <span class="function__type-signature">(async) </span>registerColorCapabilities<span class="function__parameters">(<span class="function__parameter">zclNode</span>)</span><span class="function__type-signature">:  Promise.&lt;void></span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>This method handles registration of the color capabilities <code>light_hue</code>, <code>light_saturation</code>,
<code>light_mode</code> and <code>light_temperature</code>.</p>
    </div>
    

    

    

    

    
    <section class="method__section trim">
      <h4>Parameters</h4>
      

<figure class="table-container trim">
  <table data-table class="params">
    <thead>
    <tr>
      
      <th>Name</th>
      

      <th>Type</th>

      <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    
    

    <tr data-table-lvl="0" data-table-row-id="0-0"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>zclNode</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">ZCLNode</span>


        

        

        

      </td>


      <td class="description last trim">
      </td>
    </tr>

    

    
    
    </tbody>
  </table>
</figure>


    </section>
    

    




    

    

    

    

    

    

    
    <section class="method__section trim">
      <h4>Returns</h4>
      
      

<div class="text-preset-small">
  
<span class="param-type">Promise.&lt;void></span>


</div>

    </section>
    

    

    
  </div>
  

</section>

      
      


<section id="registerMultipleCapabilities" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#registerMultipleCapabilities"></a>registerMultipleCapabilities</h3>
  <span class="method__function function">
    
    <span class="function__type-signature"></span>registerMultipleCapabilities<span class="function__parameters">(<span class="function__parameter">multipleCapabilitiesConfiguration</span>, <span class="function__parameter">multipleCapabilitiesListener</span>)</span><span class="function__type-signature"></span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>Register multiple Homey.Device capabilities with a <a href="global.html#ClusterCapabilityConfiguration">ClusterCapabilityConfiguration</a>.
When a capability is changed (or multiple in quick succession), the event will be debounced
with the other capabilities in the multipleCapabilitiesConfiguration array.</p>
    </div>
    

    

    

    

    
    <section class="method__section trim">
      <h4>Parameters</h4>
      

<figure class="table-container trim">
  <table data-table class="params">
    <thead>
    <tr>
      
      <th>Name</th>
      

      <th>Type</th>

      <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    
    

    <tr data-table-lvl="0" data-table-row-id="0-0"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>multipleCapabilitiesConfiguration</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">Array.&lt;<a href="global.html#MultipleCapabilitiesConfiguration">MultipleCapabilitiesConfiguration</a>></span>


        

        

        

      </td>


      <td class="description last trim"><p>Configuration options for multiple capability cluster mappings.</p>
      </td>
    </tr>

    

    

    <tr data-table-lvl="0" data-table-row-id="0-1"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>multipleCapabilitiesListener</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">function</span>


        

        

        

      </td>


      <td class="description last trim"><p>Called after debounce of
CAPABILITIES_DEBOUNCE. As fallback, if this function returns a falsy value or an Error
each changed capability will be processed individually instead of together.</p>
      </td>
    </tr>

    

    
    
    </tbody>
  </table>
</figure>


    </section>
    

    




    

    

    

    

    

    

    

    

    
    <section class="method__section trim">
      <h4>Example</h4>
      
    <pre class="highlight"><code>const { CLUSTER } = require('zigbee-clusters');

this.registerMultipleCapabilities([
  {
    // This one will extend the system capability and override the `setParser`
    capabilityId: 'onoff',
    cluster: CLUSTER.ON_OFF,
    userOpts: {
      setParser(setValue) {
        // do something different here
      },
    },
  },
  {
    // This one will extend the system capability
    capabilityId: 'dim',
    cluster: CLUSTER.LEVEL_CONTROL,
  }
], event => {
   // Debounced event when one or more capabilities have changed
});</code></pre>


    </section>
    
  </div>
  

</section>

      
      


<section id="registerReportListener" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#registerReportListener"></a>registerReportListener</h3>
  <span class="method__function function">
    
    <span class="function__type-signature"></span>registerReportListener<span class="function__parameters">()</span><span class="function__type-signature"></span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    

    

    

    

    

    




    

    

    

    

    

    

    

    

    
    <section class="method__section trim">
      <h4>Example</h4>
      
    <pre class="highlight"><code>class CustomBoundCluster extends BoundCluster {
  setOn() {
    // This method will be called when the `setOn` command is received
  }
}

zclNode.endpoints[1].clusters.bind('onOff', new CustomBoundCluster());</code></pre>


    </section>
    
  </div>
  

</section>

      
      


<section id="setClusterCapabilityValue" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#setClusterCapabilityValue"></a>setClusterCapabilityValue</h3>
  <span class="method__function function">
    
    <span class="function__type-signature">(async) </span>setClusterCapabilityValue<span class="function__parameters">(<span class="function__parameter">capabilityId</span>, <span class="function__parameter">cluster</span>, <span class="function__parameter">value</span>, <span class="function__parameter"><span class="function__parameter">opts</span></span><span class="function__signature-attributes">opt</span>)</span><span class="function__type-signature">:  Promise.&lt;(*|null)></span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>This method retrieves the <code>set</code> part of the <a href="global.html#ClusterCapabilityConfiguration">ClusterCapabilityConfiguration</a>, parses the
payload by calling the ClusterCapabilityConfiguration.setParser, and finally
executes the cluster command as configured by ClusterCapabilityConfiguration.set.</p>
    </div>
    

    

    

    

    
    <section class="method__section trim">
      <h4>Parameters</h4>
      

<figure class="table-container trim">
  <table data-table class="params">
    <thead>
    <tr>
      
      <th>Name</th>
      

      <th>Type</th>

      <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    
    

    <tr data-table-lvl="0" data-table-row-id="0-0"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>capabilityId</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type"><a href="global.html#CapabilityId">CapabilityId</a></span>


        

        
        

        

        
        

        
        
        

      </td>


      <td class="description last trim">
      </td>
    </tr>

    

    

    <tr data-table-lvl="0" data-table-row-id="0-1"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>cluster</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type"><a href="global.html#ClusterSpecification">ClusterSpecification</a></span>


        

        
        

        

        
        

        
        
        

      </td>


      <td class="description last trim">
      </td>
    </tr>

    

    

    <tr data-table-lvl="0" data-table-row-id="0-2"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>value</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">*</span>


        

        
        

        

        
        

        
        
        

      </td>


      <td class="description last trim"><p>The desired capability value.</p>
      </td>
    </tr>

    

    

    <tr data-table-lvl="0" data-table-row-id="0-3"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>opts</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">Homey.Device.registerCapabilityListener.listener.opts</span>


        

        
        
        <span class="color-text-light">&lt;optional></span><br>
        

        

        
        

        
        
        default:<code>{}</code>
        
        

      </td>


      <td class="description last trim">
      </td>
    </tr>

    

    
    
    </tbody>
  </table>
</figure>


    </section>
    

    




    

    

    

    

    

    

    
    <section class="method__section trim">
      <h4>Returns</h4>
      
      
  <ul>
<li>Returns the set capability value or <code>null</code> if the
ClusterCapabilityConfiguration.setParser returned <code>null</code> (i.e. command set should
not be executed).</li>
</ul>


<div class="text-preset-small">
  
<span class="param-type">Promise.&lt;(*|null)></span>


</div>

    </section>
    

    

    
    <section class="method__section trim">
      <h4>Example</h4>
      
    <pre class="highlight"><code>const { CLUSTER } = require('zigbee-clusters');

await this.setClusterCapabilityValue('dim', CLUSTER.LEVEL_CONTROL, 0.6, { duration: 500 });</code></pre>


    </section>
    
  </div>
  

</section>

      
      


<section id="triggerFlow" class="method trim component">
  

  
  <h3 class="method__name"><a data-hash-link class="method__hash-link" href="#triggerFlow"></a>triggerFlow</h3>
  <span class="method__function function">
    
    <span class="function__type-signature">(async) </span>triggerFlow<span class="function__parameters">(<span class="function__parameter">id</span>, <span class="function__parameter">tokens</span>, <span class="function__parameter">state</span>)</span><span class="function__type-signature">:  Promise.&lt;T></span>
    
  </span>
  

  
  

  
  <div class="method__content trim">
    
    <div class="method__description">
      <p>Triggers a flow.</p>
    </div>
    

    

    

    

    
    <section class="method__section trim">
      <h4>Parameters</h4>
      

<figure class="table-container trim">
  <table data-table class="params">
    <thead>
    <tr>
      
      <th>Name</th>
      

      <th>Type</th>

      <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    
    

    <tr data-table-lvl="0" data-table-row-id="0-0"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>id</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">string</span>


        

        

        

      </td>


      <td class="description last trim"><p>Flow id</p>
      </td>
    </tr>

    

    

    <tr data-table-lvl="0" data-table-row-id="0-1"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>tokens</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">object</span>


        

        

        

      </td>


      <td class="description last trim">
      </td>
    </tr>

    

    

    <tr data-table-lvl="0" data-table-row-id="0-2"
        data-table-row-parent="0" >
      
      <td class="name position-relative">
        
        <div class="lvl">
          
        </div>
        <code>state</code>
        
      </td>
      

      <td class="params__type">
        
        
<span class="param-type">object</span>


        

        

        

      </td>


      <td class="description last trim">
      </td>
    </tr>

    

    
    
    </tbody>
  </table>
</figure>


    </section>
    

    




    

    

    

    

    

    

    
    <section class="method__section trim">
      <h4>Returns</h4>
      
      

<div class="text-preset-small">
  
<span class="param-type">Promise.&lt;T></span>


</div>

    </section>
    

    

    
  </div>
  

</section>

      
    </section>
    

    

    
  </article>

</section>

        </div>
        <div class="main__index">
          
<nav class="toc trim">
  <h4 class="toc__title font-weight-bold">Table of Contents</h4>

  <ul class="toc__list">
    <li class="toc__item"><a class="toc__link" href="#introduction">Introduction</a></li>

    
    <li class="toc__item"><a class="toc__link" href="#section-constructor">Constructor</a></li>
    

    
    <li class="toc__item">
      <a class="toc__link" href="#section-extends">Extends</a>
    </li>
    

    
    <li class="toc__item">
      <a class="toc__link" href="#section-members">Properties</a>
      <ul class="toc__list toc__list--lvl2">
        
        <li class="toc__item">
          <a class="toc__link" title="energyMap" href="#energyMap">energyMap</a>
        </li>
        
      </ul>
    </li>
    

    
    <li class="toc__item">
      <a class="toc__link" href="#section-methods">Methods</a>
      <ul class="toc__list toc__list--lvl2">
        
        <li class="toc__item">
          <a class="toc__link" title="changeColor" href="#changeColor">changeColor</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="changeColorTemperature" href="#changeColorTemperature">changeColorTemperature</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="changeDimLevel" href="#changeDimLevel">changeDimLevel</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="changeOnOff" href="#changeOnOff">changeOnOff</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="configureAttributeReporting" href="#configureAttributeReporting">configureAttributeReporting</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="debug" href="#debug">debug</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="disableDebug" href="#disableDebug">disableDebug</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="enableDebug" href="#enableDebug">enableDebug</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="getClusterCapabilityValue" href="#getClusterCapabilityValue">getClusterCapabilityValue</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="getClusterEndpoint" href="#getClusterEndpoint">getClusterEndpoint</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="getEnergy" href="#getEnergy">getEnergy</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="getSwBuildId" href="#getSwBuildId">getSwBuildId</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="isFirstInit" href="#isFirstInit">isFirstInit</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="isSubDevice" href="#isSubDevice">isSubDevice</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="onDeleted" href="#onDeleted">onDeleted</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="onEndDeviceAnnounce" href="#onEndDeviceAnnounce">onEndDeviceAnnounce</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="onMeshInit" href="#onMeshInit">onMeshInit</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="onNodeInit" href="#onNodeInit">onNodeInit</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="parseAttributeReport" href="#parseAttributeReport">parseAttributeReport</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="printNode" href="#printNode">printNode</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="readColorControlAttributes" href="#readColorControlAttributes">readColorControlAttributes</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="registerAttrReportListener" href="#registerAttrReportListener">registerAttrReportListener</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="registerCapability" href="#registerCapability">registerCapability</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="registerColorCapabilities" href="#registerColorCapabilities">registerColorCapabilities</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="registerMultipleCapabilities" href="#registerMultipleCapabilities">registerMultipleCapabilities</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="registerReportListener" href="#registerReportListener">registerReportListener</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="setClusterCapabilityValue" href="#setClusterCapabilityValue">setClusterCapabilityValue</a>
        </li>
        
        <li class="toc__item">
          <a class="toc__link" title="triggerFlow" href="#triggerFlow">triggerFlow</a>
        </li>
        
      </ul>
    </li>
    

    

    
  </ul>

</nav>

        </div>
      </div>
    </div>
  </div>
  



  </main>
</div>

<script src="scripts/ready.js"></script>
<script src="scripts/navigation.js"></script>
<script src="scripts/toc.js"></script>
<script src="scripts/table.js"></script>
<script src="scripts/hash-link.js"></script>
<script src="scripts/docs-nav.js"></script>
<script src="scripts/hash-highlight.js"></script>
<script src="scripts/darkmode.js"></script>

<link type="text/css" rel="stylesheet" href="styles/atom-one-light.css">
<script src="scripts/highlight.min.js"></script>
<!--<script src="scripts/linenumber.js"></script>-->


<script async defer src="https://sa.athom.com/latest.js"></script>

</body>
</html>